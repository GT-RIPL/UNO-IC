id: rgbd_SSMA_synthia_uno #rgbd_NoisyOr_SSMA_RGB_D #rgbd_NoisyOr_T000+T050_pretrain_1_val #rgbd_NoisyOr_T000+T050_val # rgbd_Compnet_T000+T050_val
model:
    arch: tempnet
models:
    rgb:
        arch: DeepLab
        resume: /home/wcheung8/pytorch-semseg/runs/synthia-seq/rgb/best_model/rgb_DeepLab_synthia_best_model.pkl #/home/jtian73/fusion_backup/runs/configs/experiments/icra_configs/rgbd_TempNet_T000+T050_pretrain_1/rgb_tempnet_airsim_100000_model.pkl
        resume_temp: None
        resume_temp_d: None #/home/jtian73/fusion_backup/runs/configs/experiments/icra_configs/rgbd_TempNet_T000+T050_pretrain_1/d_tempnet_airsim_100000_model.pkl
        resume_temp_rgb: None 
    d:
        arch: DeepLab
        resume: /home/wcheung8/pytorch-semseg/runs/synthia-seq/d/best_model/d_DeepLab_synthia_best_model.pkl #/home/jtian73/fusion_backup/runs/configs/experiments/icra_configs/rgbd_TempNet_T000+T050_pretrain_1/d_tempnet_airsim_100000_model.pkl
        resume_temp: None
        resume_temp_d: None #/home/jtian73/fusion_backup/runs/configs/experiments/icra_configs/rgbd_TempNet_T000+T050_pretrain_1/d_tempnet_airsim_100000_model.pkl
        resume_temp_rgb: None 
    # rgbd:
    #     arch: SSMA
    #     resume: /home/wcheung8/pytorch-semseg/runs/synthia-seq/segnet/SSMA/best_model/rgbd_SSMA_synthia_best_model.pkl #/home/jtian73/fusion_backup/runs/configs/experiments/fusion/SSMA/SSMA_T000+T050/best_model/rgbd_SSMA_airsim_best_model.pkl
    #     resume_temp: None
    #     resume_temp_d: None #/home/jtian73/fusion_backup/runs/configs/experiments/icra_configs/rgbd_TempNet_T000+T050_pretrain_1/d_tempnet_airsim_100000_model.pkl
    #     resume_temp_rgb: None #/home/jtian73/fusion_backup/runs/configs/experiments/icra_configs/rgbd_TempNet_T000+T050_pretrain_1/rgb_tempnet_airsim_100000_model.pkl

fusion: SoftmaxAverage #Noisy-Or   #Stacked-Noisy-Or  #Noisy-Or # #{None,SoftmaxMultiply}
temperatureScaling: False

pretrained_rgb: None #/home/wcheung8/pytorch-semseg/runs/train/rgb_segnet_T000+T050/1/best_model/rgb_segnet_mcdo_airsim_best_model.pkl  #/home/jtian73/pytorch-semseg/runs/configs/rgb_segnet_T100+T050/rgb_segnet_mcdo_airsim_500000_model.pkl #/home/wcheung8/pytorch-semseg/models/Segnet/rgb_Segnet/rgb_segnet_mcdo_airsim_T000+T050.pkl
pretrained_d: None #/home/wcheung8/pytorch-semseg/runs/train/d_segnet_T000+T050/1/best_model/d_segnet_mcdo_airsim_best_model.pkl #/home/jtian73/pytorch-semseg/runs/configs/d_segnet_T100+T050/d_segnet_mcdo_airsim_500000_model.pkl ##/home/wcheung8/pytorch-semseg/models/Segnet/d_Segnet/d_segnet_mcdo_airsim_T000+T050.pkl
fusion_module: None
scaling_module: None #GlobalScaling #GlobalScaling
scaling_metrics: Mixed #Mixed #AveTemp  #SoftEn #MI 

# training
freeze_seg: True
freeze_temp: False

data:
    dataset: synthia
    train_split: train
    train_subsplit: ['SYNTHIA-SEQS-05-FALL',
                    'SYNTHIA-SEQS-05-FOG',
                    'SYNTHIA-SEQS-05-RAIN',
                    'SYNTHIA-SEQS-05-RAINNIGHT',
                    'SYNTHIA-SEQS-05-SOFTRAIN',
                    'SYNTHIA-SEQS-05-SPRING',
                    'SYNTHIA-SEQS-05-WINTER',
                    'SYNTHIA-SEQS-05-WINTERNIGHT',]
    train_reduction: 1.0    
    recal_split: train
    recal_subsplit: ['SYNTHIA-SEQS-05-FALL',]
    recal_reduction: 0.2
    val_split: train
    val_subsplit: ['SYNTHIA-SEQS-05-FALL',
                    'SYNTHIA-SEQS-05-FOG',
                    'SYNTHIA-SEQS-05-RAIN',
                    'SYNTHIA-SEQS-05-RAINNIGHT',
                    'SYNTHIA-SEQS-05-SOFTRAIN',
                    'SYNTHIA-SEQS-05-SPRING',
                    'SYNTHIA-SEQS-05-WINTER',
                    'SYNTHIA-SEQS-05-WINTERNIGHT',
                  ]    
    val_reduction: 1.0
    img_rows: 1280
    img_cols: 760
    path: /home/datasets/synthia-seq ##datasets/airsim_data_async #../../ros/data/airsim_03-30-2019/airsim_data_async
    noisy_type: None 
training:
    weight: None
    train_iters: 100000
    batch_size: 2
    val_interval: 10000 #5000
    save_iters: 10000
    n_workers: 4
    print_interval: 50
    png_frames: 50 #5000
    optimizer:
        name: 'adam'
        lr: 1.0e-5
    loss:
        name: 'cross_entropy'
        size_average: True
    lr_schedule:
    resume: None