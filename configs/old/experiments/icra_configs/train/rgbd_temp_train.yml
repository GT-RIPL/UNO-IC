id: rgbd_tempnet_no_weight_T000+T050
model:
    arch: tempnet
models:
    rgb:
        arch: tempnet
        in_channels: 3
        start_layer: down1
        end_layer: up1
        reduction: 1.0
        mcdo_passes: 1 # Number of Passes
        dropoutP: 0 # Dropout Probability
        resume: /home/jtian73/pytorch-semseg/runs/configs/experiments/icra_configs/train/rgbd_temp_train/rgbd_tempnet_no_weight_T000+T050/rgb_tempnet_airsim_60000_model.pkl #/home/jtian73/pytorch-semseg/runs/rgbd_BayesianSegnet_mcdo_temp_0_50_500k_final/rgb_segnet_mcdo_airsim_best_model.pkl
    d:
        arch: tempnet
        in_channels: 3
        start_layer: down1
        end_layer: up1
        reduction: 1.0
        mcdo_passes: 1
        dropoutP: 0
        resume: /home/jtian73/pytorch-semseg/runs/configs/experiments/icra_configs/train/rgbd_temp_train/rgbd_tempnet_no_weight_T000+T050/d_tempnet_airsim_60000_model.pkl #/home/jtian73/pytorch-semseg/runs/rgbd_BayesianSegnet_mcdo_temp_0_50_500k_final/d_segnet_mcdo_airsim_best_model.pkl

fusion: Noisy-Or #{None,SoftmaxMultiply}
recal: None #{None,afterMCDO,beforeMCDO}
recalibrator: None #{Histogram,Polynomial_X}
temperatureScaling: False

pretrained_rgb: None #/home/jtian73/pytorch-semseg/runs/configs/experiments/icra_configs/train/rgbd_temp_train/rgb_tempnet_airsim_60000_model.pkl #/home/jtian73/pytorch-semseg/runs/configs/rgb_segnet_T000+T050_best_unweight/rgb_segnet_mcdo_airsim_best_model.pkl
pretrained_d: None #/home/jtian73/pytorch-semseg/runs/configs/experiments/icra_configs/train/rgbd_temp_train/d_tempnet_airsim_60000_model.pkl #/home/jtian73/pytorch-semseg/runs/configs/d_segnet_T000+T050_best_unweight/d_segnet_mcdo_airsim_best_model.pkl
fusion_module: None
scaling_module: None

# training
freeze_seg: True
freeze_temp: False

data:
    dataset: airsim
    train_split: recal
    train_subsplit: ['async_fog_000_clear','async_fog_050_clear']
    train_reduction: 1.0    
    recal_split: recal
    recal_subsplit: ['async_fog_000_clear']
    recal_reduction: 0.2
    val_split: val
    val_subsplit: [
                   'async_fog_000_clear',
                   'async_fog_050_clear',
                   'async_fog_100_clear',
                   #"async_fog_000_clear__{'channel':'rgb','type':'defocusBlur','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'glassBlur','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'motionBlur','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'zoomBlur','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'snow','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'frost','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'fog','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'brightness','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'contrast','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'elastic','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'pixelate','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'jpeg','value':'3'}",
                   #"async_fog_000_clear__{'channel':'rgb','type':'blackoutNoise','value':'20'}",
                   #"async_fog_000_clear__{'channel':'d','type':'gaussianNoise','value':'3'}",
                   #"async_fog_000_clear__{'channel':'d','type':'shotNoise','value':'3'}",
                   #"async_fog_000_clear__{'channel':'d','type':'impulseNoise','value':'3'}",
                   #"async_fog_000_clear__{'channel':'d','type':'blackoutNoise','value':'20'}",
                  ]    
    val_reduction: 0.2
    img_rows: 512
    img_cols: 512
    path: /home/jtian73/airsim_03-30-2019/airsim_data_async ##datasets/airsim_data_async #../../ros/data/airsim_03-30-2019/airsim_data_async
    noisy_type: None 
training:
    weight: None #[32.93554, 575.20610, 4.87791, 1.0, 21.79751, 204.85757, 4.60879, 8.74993, 81.57046412795533, 41.01965, 7.37522]
    train_iters: 100000
    batch_size: 2
    val_interval: 5000 #5000
    save_iters: 10000
    n_workers: 8
    print_interval: 50
    png_frames: 10 #5000
    resume_iteration: True
    optimizer:
        name: 'adam'
        lr: 1.0e-5
    loss:
        name: 'cross_entropy'
        size_average: True
    lr_schedule:
    resume: None